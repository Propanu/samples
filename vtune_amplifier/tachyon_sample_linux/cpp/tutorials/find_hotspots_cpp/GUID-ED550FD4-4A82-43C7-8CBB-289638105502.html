<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Tune Algorithms" />
<meta name="DC.Relation" scheme="URI" content="GUID-D1320A0F-E1E9-4A8A-BF53-32535A7368A0.html" />
<meta name="prodname" content="VTune Amplifier" />
<meta name="version" content="2017" />
<meta name="series" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-ED550FD4-4A82-43C7-8CBB-289638105502" />
<meta name="DC.Language" content="en-US" />
<link rel="stylesheet" type="text/css" href="intel_css_styles.css" />
<title>Tune Algorithms</title>
<script src="resources/prism/prism.js"><!----></script>
<link href="resources/prism/prism.css" rel="stylesheet" />
</head>
<body id="GUID-ED550FD4-4A82-43C7-8CBB-289638105502">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em>Intel&reg; VTune&#8482; Amplifier</em></p>


<h1 class="topictitle1">Tune Algorithms</h1>
<div id="GUID-5441A544-917E-433A-AA12-8E71AF0C4806"><p id="GUID-19893918-E48B-40A0-8F4B-274206645544"></p>
<p id="GUID-6E74A8D7-6464-4A46-B6D0-3DD0F2D94E16"><img id="IMAGE_4FE0CAD4F75947F38FFCC03E8C3B52AF" height="32" src="GUID-C2B5D55A-E9BE-48F2-BFAA-B91DE7D1BBBF-low.png" width="32" /> In the 
		<strong>Source</strong> window, you identified a code line in the 
		<samp class="codeph" id="GUID-744A9EBD-BDBD-4DB1-9D62-A5F9CA8E4514">initialize_2D_buffer</samp>
		hotspot function that took the most CPU time. Focus on this line and do the
		following: 
	 </p>
<ol id="GUID-B051FE43-C0CE-4656-AC1D-D4B1112885C7"><li><p><a href="#OPEN_EDITOR">
				Open the code editor</a>. 
		  </p>
</li>
<li class="empty_circle"><p><a href="#RESOLVE">Optimize
				the algorithm used in this code section</a>. 
		  </p>
</li>
</ol>
<div class="section" id="OPEN_EDITOR"><h2 class="sectiontitle">Open the Code Editor</h2><div class="Note"><h3 class="NoteTipHead">Note</h3> <p>Depending on the sample code version, your source line numbers may
			 slightly differ from the numbers provided in this tutorial. 
		  </p>
</div>
<p id="GUID-357A36FB-6CEC-49C9-ADA3-F74358740E4F"> In
		  the 
		  <strong>Source</strong> window, click the 
		  <img id="IMAGE_8AE222AEA0284863ADB6763DE6D0BE06" src="GUID-66F5A54E-83EC-4E60-AD9A-83481F49715D-low.jpg" /><strong>Source Editor</strong> button to open the 
		  <samp class="codeph" id="GUID-3B91CF78-9701-422C-9930-638C4AD7DD13">find_hotspots.cpp</samp> file
		  in the default code editor at the hotspot line: 
		</p>
<p id="GUID-A35883A4-2AB0-4FB2-B38A-D3994205033F"><img id="IMAGE_3B5FCAB191F843618DAF8357E5A733FC" src="GUID-EB2F995D-1158-4DCF-833C-B98239EB35EB-low.gif" /></p>
</div>
<p id="GUID-D6C62F7E-5E73-4DF8-994F-EA43572005E1">Hotspot line<span> 93</span> is used to
		initialize a memory array using non-sequential memory locations. For
		demonstration purposes, the code lines are commented as a slower method of
		filling the array. 
	 </p>
<div class="section" id="RESOLVE"><h2 class="sectiontitle">Resolve the Problem</h2><p id="GUID-D903AA4E-4724-4BE9-8FF8-851E684868C7">To
		  resolve this issue, 
		  <span id="GUID-C2685965-ECF7-4F3A-8016-993843B4A1E8">optimize your algorithm as
			 follows</span>: 
		</p>
<p id="GUID-EEF69BC9-BA00-49CB-B98D-3F278F4C196C"><ol id="GUID-327C7FD9-457A-490E-8DF0-89B73DE00BDE"><li id="GUID-E5A16D9D-158E-4AAF-8CE6-2ECEA46F8E3F"><p id="GUID-2D3CC71D-A4A2-4976-9333-CFBB0780D225">Edit 
				<span id="GUID-F4C9E1D9-A3C8-4930-AACA-948B107516EF">line 87</span> deleting the ending
				forward slash (/). This action comments out code lines 
				<span id="GUID-301E4C71-3ACB-4B4B-AF54-60E5F7AD1933">88-99 
				</span>marked as a "First (slower) method". 
			 </p>
</li>
<li id="GUID-B2B73AAC-8B0A-48B3-BABA-93CF40A888C7"><p id="GUID-275B6CC5-D53B-43C8-BADA-82594E08E693">Edit line 
				<span id="GUID-37FC957A-A2AB-4C25-98B5-83EE7C940A19">106</span> by adding a forward
				slash (/) at the end of the line. This action uncomments code lines 
				<span id="GUID-FDFE74C4-A58E-4351-9FA7-543A5F7D54BB">107-113 
				</span>marked as a "Faster method". 
			 </p>
<p id="GUID-547978A9-D387-4134-84BD-255A2A3799A2">In this step, you
				interchange the 
				<samp class="codeph" id="GUID-54F51B3D-6437-4F4A-86F9-6838E7AF5CBB">for</samp>
				loops to initialize the code in sequential memory locations. 
			 </p>
</li>
<li id="GUID-BCCE3E1D-6B03-4105-B239-E2479CFC163B"><p id="GUID-4613CC1A-D1C5-49C5-A0DA-FA7FDB9CCCC6">Save the changes
				made in the source file. 
			 </p>
</li>
<li id="GUID-FD679D7F-EB9C-4B85-A0CF-0D855144F0A5"><p id="GUID-E2A46F00-24C5-4791-9EE5-308BED90541A">Browse to the
				directory you extracted the sample code (for example, 
				<span class="filepath" id="GUID-4D341BF9-FFDD-44DA-91EB-08E5F9D9CBF2">/home/myuser/samples/tachyon</span>).
				
			 </p>
</li>
<li id="GUID-A2AD7CC2-551C-41A8-9BF3-4D720F6DA9EF"><p id="GUID-37C32115-EC73-4E29-9051-5E89DFEF1CF9">Rebuild your target
				using the 
				<span class="keyword">make</span> command as follows: 
			 </p>
<p id="GUID-87C26FC8-370D-41F4-BD4F-7FCAFE875A94"><samp class="codeph" id="GUID-BC547D0B-2B00-4E5A-B54E-7D27B5A9DD1A">$ make
				  clean</samp></p>
<p id="GUID-946FB1EA-F18B-447F-A35C-B4826D625E05"><samp class="codeph" id="GUID-E8E3BB52-86B2-4AD7-84D2-D182A1CA4A7B">$ make 
				</samp></p>
<p id="GUID-67AB8149-5F0A-4F4E-A1F6-78FE55BED30C"> The 
				<samp class="codeph" id="GUID-91A67E5F-DB16-40E1-B940-E87CA7B99110">tachyon_find_hotspots</samp>
				application is rebuilt and stored in the 
				<span class="filepath" id="GUID-5F024521-EA60-4E66-BCB7-8DE91C99E14D">tachyon</span> directory. 
			 </p>
</li>
<li id="GUID-F2C03E31-357D-48CA-A18D-82AEEF28FCD4"><p id="GUID-E19A72A0-33AC-4A9B-B2E1-DD11747D415D">Run 
				<samp class="codeph" id="GUID-75674FEE-FC15-4EEC-A44A-9EE8425C996C">tachyon_find_hotspots</samp>
				as follows: 
			 </p>
<p id="GUID-BFC7AA45-B828-4488-AB43-EB96BFCF5EB1"><samp class="codeph" id="GUID-A79AB3FF-ABD1-44D2-AE13-BD1E62D6BCB4">$
				  ./tachyon_find_hotspots dat/balls.dat</samp></p>
<p id="GUID-E26B2A38-AC35-420A-B0E4-3B286566E5E9"><img id="IMAGE_8EFCB73D9F0A4D5BBABB03D068406388" src="GUID-FD1E4079-E7E6-4C35-AD07-B096D59F8F40-low.gif" /></p>
<p id="GUID-9F286171-F353-4316-A69D-E7CA0E2CE35E">System runs the 
				<samp class="codeph">tachyon_find_hotspots</samp> application. Note that
				execution time reduced from 16.604 seconds to 9.487 seconds. 
			 </p>
</li>
</ol>
</p>
</div>
<div class="section" id="GUID-20F17DC8-45D8-494A-A14F-A01A9C666909"><h2 class="sectiontitle">Key Terms </h2><p id="GUID-B8E90E57-7A0D-4713-82A7-2880A95FD985"><a href="GUID-8DCE8321-E14C-4106-AA5B-443DD8ED634E.html#HOTSPOT">Hotspot</a></p>
</div>
<div class="section" id="GUID-A4874ED5-FCA8-4A31-9CE2-40E825D1FD71"><h2 class="sectiontitle">Next Step</h2><p><a href="GUID-C0FFAF0B-0D4A-4251-A7AE-62AA0F30294C.html">Compare with
			 Previous Result</a></p>
</div>

<div class="tablenoborder"><table cellpadding="4" summary="" id="GUID-564B67B7-69D3-4E60-910F-997915DAB23A" frame="border" border="1" cellspacing="0" rules="all"><thead align="left"><tr><th class="cellrowborder" align="left" valign="top" width="100%" id="d3934e165"><p id="d33e52">Optimization Notice 
				  </p>
</th>
</tr>
</thead>
<tbody><tr><td class="bgcolor(#f5f5f5)" bgcolor="#f5f5f5" valign="top" width="100%" headers="d3934e165 "><p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice. 
				  </p>
<p> Notice revision #20110804 
				  </p>
</td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-D1320A0F-E1E9-4A8A-BF53-32535A7368A0.html">Finding Hotspots</a></div>
</div>
<div></div>
</body>
</html>
