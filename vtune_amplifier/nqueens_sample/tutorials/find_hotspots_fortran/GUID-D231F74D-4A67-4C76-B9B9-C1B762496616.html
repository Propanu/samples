<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Compare with Previous Result" />
<meta name="DC.Relation" scheme="URI" content="GUID-742F5949-4A88-4170-9A20-425DD0CFB029.html" />
<meta name="prodname" content="VTune Amplifier" />
<meta name="version" content="2016" />
<meta name="series" content="" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GUID-D231F74D-4A67-4C76-B9B9-C1B762496616" />
<meta name="DC.Language" content="en-US" />
<link rel="stylesheet" type="text/css" href="intel_css_styles.css" />
<title>Compare with Previous Result</title>
<script src="resources/prism/prism.js"><!----></script>
<link href="resources/prism/prism.css" rel="stylesheet" />
</head>
<body id="GUID-D231F74D-4A67-4C76-B9B9-C1B762496616">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em>Intel&reg; VTune&#8482; Amplifier</em></p>


<h1 class="topictitle1">Compare with Previous Result</h1>
<div><p><img id="IMAGE_949C33ECCAEE406E8DCD5933773AD2AF" src="GUID-02914B5D-1A7D-4B4B-8A24-9534BDA714E4-low.gif" /> You made sure that removing the critical section gave you 
		<span>41981</span> ms of optimization in the
		application execution time. To understand the impact of your changes and how
		the CPU utilization has changed, re-run the Locks and Waits analysis on the
		optimized code and compare results: 
	 </p>
<p><ol id="GUID-0051552D-D2C9-4FA1-99F3-92263E936696"><li id="LI_0B7E35529E894D20914EF6E09A2775A6"><p><a href="#GUID-5BCBF9F7-6456-42A7-B271-C65BBEAEB8CB">Compare
				results before and after optimization.</a></p>
</li>
<li id="LI_953DE199A1C24D3B92701918E341F1D5"><p><a href="#GUID-B87A43AC-514A-4625-9CEB-7D711064F8CC">Identify
				the performance gain by metrics. 
			 </a></p>
</li>
<li id="LI_72F748E39E0D46F4A86C1E89DBDB00A6"><p><a href="#GUID-8AF299BE-5860-448B-A58B-B60FE0E72ED5">Compare
				timeline data.</a></p>
</li>
</ol>
</p>
<div class="section" id="GUID-5BCBF9F7-6456-42A7-B271-C65BBEAEB8CB"><h2 class="sectiontitle">Compare Results Before and After Optimization</h2><ol id="GUID-8E3AC3D6-942B-4DB4-A573-7D16ADE4F4C5"><li id="LI_DB66759585D9402BB193F14F29C97E29"><p>Run the Locks and Waits analysis on the modified code. 
			 </p>
</li>
<li id="LI_8B61F6A67EE94B90B4575DBEED595F20"><p>Click the 
				<img id="IMAGE_6230BE04D74F423C848F19C5AB65CACE" src="GUID-E632A67E-51CD-4676-B252-0F411DF5A068-low.gif" /><strong>Compare Results</strong> button on the VTune Amplifier toolbar. 
				</p>
<p>The 
				<strong>Compare Results</strong> window opens. 
			 </p>
</li>
<li id="LI_9B56D70512C14B15A29BCC7B7F205C47"><p>Specify the Locks and Waits analysis results you want to compare: 
			 </p>
<p><img id="IMAGE_41AB9CAB1EA54829A978D5C6B0C8BA33" src="GUID-9E308975-E41D-4B2B-BC12-4BE63D942550-low.gif" /></p>
<p>The 
				<strong>Summary</strong> window opens providing the statistics for the
				difference between collected results. 
			 </p>
</li>
</ol>
</div>
<div class="section" id="GUID-B87A43AC-514A-4625-9CEB-7D711064F8CC"><h2 class="sectiontitle">Identify the Performance Gain by Metrics</h2><p>The 
		  <strong>Result Summary</strong> section of the 
		  <strong>Summary</strong> window shows that after optimization all critical metric
		  values has reduced significantly. The<strong> Elapsed Time</strong> data shows the
		  optimization of 
		  <span>60.208</span> seconds for the whole application. 
		  <strong>Wait Time</strong> decreased by 
		  <span>308.891</span> seconds, 
		  <strong>Wait Count</strong> - by 
		  <span>40,094</span>. 
		</p>
<p><img id="IMAGE_38BB6780E1D34F46A3163D30CA2A1CEE" src="GUID-BED7B911-9D39-45D9-9367-313A2CB3E52B-low.gif" /></p>
<div class="Note"><h3 class="NoteTipHead">Note</h3> <p>The Locks and Waits analysis adds an overhead to the application
			 execution. The overhead often depends on the number of threads and
			 synchronization objects used in the application. This is the reason why Elapsed
			 time data provided in the 
			 <strong>Summary</strong> window may differ from the data reported after the
			 application launch outside of the VTune Amplifier. 
		  </p>
</div>
<p>In the 
		  <strong>Bottom-up</strong> pane, locate the OpenMP* critical section you
		  identified as a bottleneck in your code. Since you removed it during
		  optimization, the optimized result does not show any performance data for this
		  synchronization object. If you collapse the 
		  <strong>Wait Time: Difference</strong> column by clicking the 
		  <img id="IMAGE_0111722B9F9B4AD9BC1DADABD89EF009" src="GUID-CF8A1E58-DAA5-4671-A0C5-28ADF088A823-low.gif" /> button, you
		  see that with the optimized result you got 
		  <span>143.302</span> seconds of optimization in Wait
		  time. 
		  </p>
<p><img id="IMAGE_56BC7DD558134B24972626225254EA1C" src="GUID-39CCE11A-6E59-4277-8D2F-C107E9F6FC05-low.gif" /></p>
</div>
<div class="section" id="GUID-8AF299BE-5860-448B-A58B-B60FE0E72ED5"><h2 class="sectiontitle">Compare Timeline Data</h2><p>Open the optimized result of the Locks and Waits analysis, open the 
		  <strong>Bottom-up</strong> tab, and analyze the 
		  <strong>Timeline</strong> pane. 
		</p>
<p><img id="IMAGE_BA81A9C2CF7E4362AEDE00DC5D76588D" src="GUID-10C09562-1DF1-43C2-9BD4-7DE82E93ED1C-low.gif" /></p>
<p>The optimized result does not have multiple transitions anymore. 
		  </p>
<p>Compare analysis results regularly to look for regressions and to
		  track how incremental changes to the code affect its performance. You may also
		  want to use the VTune Amplifier command-line interface and run the 
		  <samp class="codeph">amplxe-cl</samp> command to test your code for regressions.
		  For more details, see the 
		  <em>Command-line Interface Support</em> section in the VTune Amplifier
		  online help. 
		</p>
</div>
<div class="section" id="GUID-0905CF5A-7204-4B0B-A0A1-B4470E95DAEA"><h2 class="sectiontitle">Key Terms </h2><ul id="GUID-52D7B502-A0A5-424B-A08D-152860ED0E35"><li id="LI_C28843366EA6408F8A2D0AA5F6090F7B"><p><a href="GUID-E9306A17-2C65-46CD-BE42-D8D94D0E336E.html#ELAPSED_TIME">Elapsed
				  time</a></p>
</li>
<li id="LI_BD61F08D5B104522AB7B4CFB07C1C230"><p><a href="GUID-E9306A17-2C65-46CD-BE42-D8D94D0E336E.html#THREAD_CONCURRENCY">Thread
				  concurrency</a></p>
</li>
<li id="LI_FAF583EB952E45D2909E8D8399006743"><p><a href="GUID-E9306A17-2C65-46CD-BE42-D8D94D0E336E.html#WAIT_TIME">Wait
				  time</a></p>
</li>
</ul>
</div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-742F5949-4A88-4170-9A20-425DD0CFB029.html">Finding Hotspots</a></div>
</div>
<div></div>
</body>
</html>
